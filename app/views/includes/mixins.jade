mixin renderTags(meetup)
  if(meetup.tags)
    ul.list-inline
      each tag in meetup.tags.split(",")
        li
          a(href="/tags/#{tag}")
            i.fa.fa-tag
            | &nbsp;#{tag}

mixin renderContent(meetup)
  .visible-xs 
    div !{meetup.description}
  .hidden-xs
    .row
      .col-sm-8 !{meetup.description}
      .col-sm-offset-1.col-sm-3
        -if (meetup.user.provider === "facebook")
          a(href="/users/#{meetup.user.id}", title="Created by #{meetup.user.name}")
            img(src="//graph.facebook.com/#{meetup.user.facebook.id}/picture?width=50&height=50").img-circle.img-thumbnail.img-responsive
        -else
          a(href="/users/#{meetup.user.id}", title="Created by #{meetup.user.name}")
            img(src="#{meetup.user.twitter.profile_image_url}").img-circle.img-thumbnail.img-responsive

mixin renderAddress(meetup)
  p.text-success
    em &nbsp;#{meetup.venue}

mixin renderMeetup(meetup)
  .date.text-muted= formatDate(meetup.startDate)
  .content
    h3
      a(href='/meetups/'+meetup._id, title=meetup.title) #{meetup.title}
      -if (meetup.isFree)
        span.free.label.label-success free
    +renderContent(meetup)
    +renderTags(meetup)
    +renderAddress(meetup)

mixin renderMeetups(meetups)
  - for (var i = 0; i < meetups.length; i++)
    .meetup.row.vspace-two
      +renderMeetup(meetups[i])

mixin renderDate(d1, fieldName)
  - if (d1)
    input.form-control(type='text',
        name=fieldName,
        value="#{d1.getFullYear()}-#{d1.getMonth()+1}-#{d1.getDate()} #{d1.getHours()}:#{d1.getMinutes()}",
        data-format="YYYY-MM-DD HH:mm")
  - else
    input.form-control(type='text',
        name=fieldName,
        data-format="YYYY-MM-DD HH:mm",
        placeholder="ex: 2014-04-24 17:00")
